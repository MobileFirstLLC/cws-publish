"use strict";Object.defineProperty(exports,"__esModule",{value:true});var core=require("@actions/core");var cws_1=require("./cws");var action=(core.getInput("action",{required:true})||"").toLowerCase();var clientId=core.getInput("client_id",{required:true});var secret=core.getInput("client_secret",{required:true});var token=core.getInput("refresh_token",{required:true});var zip=core.getInput("zip_file",{required:true});var extId=core.getInput("extension_id",{required:true});switch(action){case"upload":(0,cws_1.upload)(clientId,secret,token,zip,extId).then(function(e){return core.info("Upload to webstore completed")}).catch(function(e){return core.setFailed(e.message)});break;case"publish":(0,cws_1.publish)(clientId,secret,token,zip,extId,false).then(function(e){return core.info("Publish to webstore completed")}).catch(function(e){return core.setFailed(e.message)});break;case"testers":(0,cws_1.publish)(clientId,secret,token,zip,extId,true).then(function(e){return core.info("Publish webstore testers completed")}).catch(function(e){return core.setFailed(e.message)});break;default:core.setFailed("Failed with error: unknown valur for parameter action. "+"Specify one of: upload, publish, testers.")}